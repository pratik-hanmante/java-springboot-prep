Amazon EFS vs EBS

Amazon EFS is a fully managed, elastic shared file system that can be mounted by multiple EC2 instances simultaneously, even across multiple Availability Zones. It automatically scales as data grows or shrinks and is ideal for web servers, microservices, CMS content, and shared logs.

In contrast, EBS is block storage that can be attached to only one EC2 instance at a time (except for limited Multi-Attach use cases).

Private Subnet Access to Amazon S3

When EC2 instances in private subnets (with no Internet Gateway or NAT Gateway) need access to Amazon S3, a VPC Gateway Endpoint for S3 should be used.

Benefits:

Traffic stays within the AWS network

Improved security

Lower latency

Reduced cost
Access can be restricted using IAM policies and S3 bucket policies with conditions like aws:SourceVpce.

Secure Static Website Hosting on S3

Amazon S3 static website hosting does not support HTTPS natively.
To host a secure static website, use:

Architecture:
User → CloudFront → S3

CloudFront provides HTTPS, caching, global delivery, and DDoS protection

SSL/TLS certificates are issued using AWS Certificate Manager (ACM)

Restricting Access to AWS Organization Accounts

When using AWS Organizations and access must be limited to accounts within the organization, use the policy condition key:

aws:PrincipalOrgID


This avoids listing individual account IDs and automatically includes new accounts added to the organization.

Querying Logs in S3 Using SQL

When JSON or structured logs are stored in Amazon S3 and need to be analyzed using SQL without managing servers, use Amazon Athena.

Serverless

Queries data directly in S3

Integrates with AWS Glue Data Catalog

Pay per query
Ideal for ad-hoc analytics, auditing, and log analysis

Large On-Premises Data Migration

When migrating large datasets with limited bandwidth, use AWS Snowball Edge.

Example scenario:

70 TB total data

Files range from 1 MB to 500 GB

Data is no longer growing

Solution:

Create a Snowball Edge job

Receive encrypted 80 TB device

Copy data locally via Snowball client or NFS

Ship device back to AWS for import into S3

Snowball provides offline transfer, 256-bit encryption, and is faster and cheaper than internet transfer.

High-Throughput Fan-Out Messaging

When messages must be consumed by multiple microservices and traffic can spike to 100,000 messages/second, use the SNS + SQS fan-out pattern.

Flow:
Producer → SNS Topic → Multiple SQS Queues → Different Microservices

Benefits:

Full decoupling

Independent scaling

Retry handling

Dead-letter queues

Modernizing Distributed Job Processing

If a legacy primary server coordinates jobs across compute nodes, modernization can be achieved by:

Sending jobs to Amazon SQS

Using EC2 instances in an Auto Scaling Group as workers

Each worker polls the queue and processes jobs, providing fault tolerance, resiliency, and automatic scaling.

On-Prem SMB File Server Optimization

For an on-prem SMB file server where:

Files are frequently accessed for the first few days

Rarely accessed after 7 days

Storage capacity is nearing limits

Use AWS S3 File Gateway.

Configuration:

Frequently accessed data cached locally

Data stored durably in S3

Lifecycle policy to transition files to S3 Glacier Deep Archive after 7 days

Strict Message Ordering

When orders must be processed strictly in order, use Amazon SQS FIFO.

Architecture:

API Gateway → SQS FIFO

AWS Lambda processes messages

FIFO queues guarantee ordering and exactly-once processing.

Managing Database Credentials

If an EC2 application stores database credentials in local files and operational overhead must be reduced, use AWS Secrets Manager.

Secure storage

IAM integration

Automatic rotation support

For multi-region credential rotation, Secrets Manager with automatic rotation and replication is the correct solution.

Global Web Application Performance

For a global web application using:

EC2 behind an Application Load Balancer

Static data in S3

Route 53 for DNS

Use CloudFront to:

Serve static and dynamic content

Reduce latency

Improve global performance

Read-Heavy Database Workloads

If a read-heavy e-commerce application experiences performance issues:

Migrate from MySQL on EC2 to Amazon Aurora

Aurora supports:

Read replicas

Multi-AZ deployments

Aurora Auto Scaling for unpredictable read traffic

Network Traffic Inspection

To inspect and filter VPC traffic (replacing on-prem inspection servers), deploy AWS Network Firewall.

Stateful and stateless inspection

Centralized VPC traffic control

Data Visualization & Reporting

For reporting on a data lake using:

Amazon S3

Amazon RDS for PostgreSQL

Use Amazon QuickSight.

Dashboards and visualizations

Multiple data sources

Fine-grained access control for users and groups

High-Yield Exam Reminders

EBS → Single-instance block storage

EFS → Shared file storage

S3 → Object storage

FSx → Specialized high-performance file systems

Passwords / Secrets → AWS Secrets Manager

Async Decoupling → SQS / SNS

Analytics on S3 → Athena

Traffic Inspection → AWS Network Firewall

Global Performance → CloudFront
